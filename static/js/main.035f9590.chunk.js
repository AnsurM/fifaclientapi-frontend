(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t,a){e.exports=a(229)},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},140:function(e,t,a){},145:function(e,t){},147:function(e,t){},181:function(e,t){},182:function(e,t){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(51),i=a.n(o),s=(a(106),a(13)),l=a(14),c=a(16),u=a(15),d=a(17),h=a(6),p=(a(107),a(108),{url:"https://serene-inlet-50937.herokuapp.com"}),m=a(1),g=a.n(m),y=a(54);window.onbeforeunload=function(){return"You have unsaved changes!"};var f=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onEmailChange=function(e){a.setState({signInEmail:e.target.value})},a.onPasswordChange=function(e){a.setState({signInPassword:e.target.value})},a.onSubmitSignIn=function(){fetch("https://gentle-everglades-47985.herokuapp.com/signin",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.signInEmail,password:a.state.signInPassword})}).then(function(e){return e.json()}).then(function(e){e.name?a.props.ChangeState("home",e.email,e.name,e.rollno):m.notify.show(e.message)}).catch(function(e){return m.notify.show(e.message)})},a.updateEmailAndApiKey=function(){a.props.setEmailAndApiKey(a.state.signInEmail,a.state.apiKey)},a.validateLogIn=function(e){var t=Object(h.a)(Object(h.a)(a));fetch(p.url+"/signin",{method:"post",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.signInEmail,password:a.state.signInPassword})}).then(function(n){200==n.status?fetch(p.url+"/getApiKey",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.signInEmail})}).then(function(e){return e.json()}).then(function(n){t.setState({signInEmail:n.email}),t.setState({apiKey:n.apikey}),t.updateEmailAndApiKey(),a.state.apiKey&&a.props.updateRoute(e)}).catch(function(e){console.log("Error: ",e),m.notify.show("There was an error trying to login. Please try again shortly.","error",1e4)}):400==n.status?(console.log("Error: ",n),m.notify.show("The login details are invalid. Please re-check and try again.","warning",7e3)):(console.log("Error: ",n),m.notify.show("There was an error trying to login. Please try again shortly.","error",1e4))}).catch(function(e){console.log("Error: ",e),m.notify.show("There was an error trying to login. Please try again shortly.","error",1e4)})},a.validateLogIn1=function(e){var t=Object(h.a)(Object(h.a)(a));y.post(p.url+"/signin",{email:a.state.signInEmail,password:a.state.signInPassword}).then(function(a){console.log(a),200==a.status&&fetch(p.url+"/getApiKey",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.state.signInEmail})}).then(function(e){return e.json()}).then(function(a){t.setState({signInEmail:a.email}),t.setState({apiKey:a.apikey}),t.updateEmailAndApiKey(),t.state.apiKey&&t.props.updateRoute(e)}).catch(function(e){m.notify.show("Server error occured. Please retry logging in after a few minutes. ","warning",5e3)})}).catch(function(e){console.log("Login error: ",e),e.toString().includes("400")?m.notify.show("Invalid login credentials detected. Please verify and try again. ","error",5e3):m.notify.show("Server error occured. Please retry logging in after a few minutes or contact the admin if problem persists.","warning",5e3)})},a.onSubmitSignIn1=function(e){"Register"==e?a.props.updateRoute(e):a.validateLogIn1(e)},a.state={signInEmail:"",signInPassword:"",apiKey:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(g.a,null),r.a.createElement("article",{className:"br3 w-100 w-50-m w-25-l mw6 shadow-5 center signinbox"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"signIn"},"Sign In"),r.a.createElement("div",{className:"mt3"},r.a.createElement("label",{className:"db fw6 lh-copy f4 myTColor",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"pa2 w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),r.a.createElement("div",{className:"mv3"},r.a.createElement("label",{className:"db fw6 lh-copy f4 myTColor",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"pa2 w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange})),r.a.createElement("div",null,r.a.createElement("input",{onClick:function(){return e.onSubmitSignIn1("App")},className:"input b ph3 pv2 input-reset ba b--black hover-bg-green grow pointer f6 dib",type:"submit",value:"Sign in"})))))))}}]),t}(r.a.Component),b=a(53),w=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).setDataValues=function(){Object(b.a)({},a.state.conditions);fetch(p.url+"/getAuctionData",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.props.data.email,apikey:a.props.data.apikey,conditions:a.state.conditions})}).then(function(e){return e.json()}).then(function(e){if(console.log("Data is: ",e),e.length){var t=[],n=0;Object.values(e)&&(t=e).map(function(e){n+=e.earned,a.setState({data:{rows:t},totalEarning:n})})}else m.notify.show("There were no records found in the server."),alert("No records found")}).catch(function(e){console.log("Records error: ",e),m.notify.show("There was an error trying to obtain records. Please try again shortly.","error",1e4)})},a.onChange=function(e){var t=e.target.value,n=Object(b.a)({},a.state.conditions);"assign"==e.target.id&&(n.assigned_to=t),"status"==e.target.id&&(n.auction_status=t),"date"==e.target.id&&(n.received_time=t),"cardid"==e.target.id&&(n.cardId=t),a.setState({conditions:n},function(){return a.setDataValues()})},a.onClickGoBack=function(){a.props.updateRoute("App")},a.state={data:{columns:[],rows:[]},totalEarning:0,conditions:{cardId:"",assigned_to:"",auction_status:"",received_time:""}},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setDataValues()}},{key:"render",value:function(){var e={cardId:"",assigned_to:"",auction_status:"",received_time:""};this.state.conditions.cardId&&(e.cardId=this.state.conditions.cardId),this.state.conditions.assigned_to&&(e.assigned_to=this.state.conditions.assigned_to),this.state.conditions.auction_status&&(e.auction_status=this.state.conditions.auction_status),this.state.conditions.received_time&&(e.received_time=this.state.conditions.received_time);var t=["cardId","tradeId","player_details","earned","assigned_to","auction_status","received_time"],a=[];this.state.data.rows&&(a=this.state.data.rows);var n=r.a.createElement("thead",null,r.a.createElement("tr",null,t.map(function(e){return r.a.createElement("th",null,e)}))),o=a.map(function(e){return r.a.createElement("tr",null,t.map(function(t){return r.a.createElement("td",null,e[t])}))});return r.a.createElement("div",{style:{height:"700px",overflow:"scroll",color:"white"}},r.a.createElement(g.a,null),r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("div",{style:{marginTop:"5%",marginLeft:"5%"}},r.a.createElement("h2",{style:{color:"gold"}},"Total Earned is: "),r.a.createElement("h2",{style:{color:"chartreuse"}},Math.floor(this.state.totalEarning))),r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"black",color:"red",borderColor:"gold",width:"auto",height:"auto",padding:"8px",margin:"30px 50px"},onClick:this.onClickGoBack},"Go Back"))),r.a.createElement("div",{style:{display:"flex",width:"80%",marginLeft:"5%"}},r.a.createElement("div",{style:{width:"40%"}},r.a.createElement("h4",null,"Card ID: "),r.a.createElement("input",{id:"cardid",style:{marginLeft:"10px",borderColor:"gold",borderWidth:"3px",backgroundColor:"#3A4245",color:"gold",textAlign:"center",width:"200px",height:"30px"},placeholder:"",value:"".concat(e.cardId),onChange:this.onChange}),r.a.createElement("h4",null,"Assigned To: "),r.a.createElement("input",{id:"assign",style:{marginLeft:"10px",borderColor:"gold",borderWidth:"3px",backgroundColor:"#3A4245",color:"gold",textAlign:"center",width:"200px",height:"30px"},placeholder:"",value:"".concat(e.assigned_to),onChange:this.onChange})),r.a.createElement("div",{style:{width:"40%"}},r.a.createElement("h4",null,"Auction Status: "),r.a.createElement("input",{id:"status",style:{marginLeft:"10px",borderColor:"gold",borderWidth:"3px",backgroundColor:"#3A4245",color:"gold",textAlign:"center",width:"200px",height:"30px"},placeholder:"",value:"".concat(e.auction_status),onChange:this.onChange}),r.a.createElement("h4",null,"Received Time: "),r.a.createElement("input",{id:"date",style:{marginLeft:"10px",borderColor:"gold",borderWidth:"3px",backgroundColor:"#3A4245",color:"gold",textAlign:"center",width:"200px",height:"30px"},placeholder:"",value:"".concat(e.received_time),onChange:this.onChange})))),r.a.createElement("br",null),r.a.createElement("hr",{style:{borderBottom:"1px dashed black"}}),r.a.createElement("br",null),r.a.createElement("table",{className:"table table-bordered table-hover",width:"100%"},n,o))}}]),t}(n.Component),E=a(28),v=a(96),S=a.n(v),C=a(97),x=a.n(C),k=a(98),P=a.n(k),O=a(99),D=a.n(O),N=a(52),j=a.n(N),T=a(100),A=(a(140),a(141)),I=a(54),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onNameChange=function(e){a.setState({name:e.target.value})},a.onEmailChange=function(e){a.setState({email:e.target.value})},a.onPasswordChange=function(e){a.setState({password:e.target.value})},a.hasNumber=function(e){return/\d/.test(e)},a.onSubmitRegistration=function(){var e=a.state,t=e.email,n=e.password,r=e.name;t&&n&&r?a.hasNumber(r)?alert("Name can only contain alphabets."):fetch("https://gentle-everglades-47985.herokuapp.com/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.email,password:a.state.password,name:a.state.name})}).then(function(e){return e.json()}).then(function(e){!0===e?(alert("Registration successful!"),a.props.ChangeState2("Administrator","")):!1===e?alert("Error entering student!"):alert("This user already is registered!")}):(t?n||m.notify.show("Passwod field can't be empty"):m.notify.show("Email field can't be empty"),r||m.notify.show("Name field can't be empty"))},a.onSubmitReg2=function(){var e=a.state,t=e.email,n=e.password,r=e.name;if(t&&n&&r)if(a.hasNumber(r))alert("Name can only contain alphabets.");else{var o="",i=Object(h.a)(Object(h.a)(a));A.hash(a.state.password,null,null,function(e,t){e?m.notify.show("The page behaved unexpectedly while trying to register. Please try again shortly.","error",1e4):(o=t).length>0?I.post(p.url+"/register",{email:i.state.email,password:o,name:i.state.name}).then(function(e){200===e.status?(alert("Registration successful!"),i.props.updateRoute("Login")):400===e.status&&alert("This user already is registered!")}).catch(function(e){return m.notify.show("The page behaved unexpectedly while trying to register. Please try again shortly.","error",1e4)}):m.notify.show("The page behaved unexpectedly while trying to register. Please try again shortly.","error",1e4)})}else t||alert("Email field can't be empty"),n||alert("Password field can't be empty"),r||alert("Name field can't be empty")},a.onSubmitReg1=function(){a.props.updateRoute("Login")},a.onClickSignInButton=function(){a.props.updateRoute("Login")},a.state={email:"",password:"",name:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"hashString",value:function(){var e=Object(T.a)(j.a.mark(function e(t){var a;return j.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a="",!(t.length>0)){e.next=8;break}return e.next=4,A.hash(t,null,null,function(e,t){return t});case 4:return a=e.sent,e.next=7,a;case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g.a,null),r.a.createElement("article",{className:"br3 w-100 w-50-m w-25-l mw6 shadow-5 center registerbox"},r.a.createElement("main",{className:"pa4 black-80"},r.a.createElement("div",{className:"measure"},r.a.createElement("fieldset",{id:"sign_up",className:"ba b--transparent ph0 mh0"},r.a.createElement("legend",{className:"f1 fw6 ph0 mh0 myTColor"},"Register"),r.a.createElement("div",{className:"mt1"},r.a.createElement("label",{className:"db fw6 lh-copy f4 myTColor",htmlFor:"name"},"Name"),r.a.createElement("input",{className:"pa2 w-100",type:"text",name:"name",id:"name",onChange:this.onNameChange})),r.a.createElement("div",{className:"mt1"},r.a.createElement("label",{className:"db fw6 lh-copy f4 myTColor",htmlFor:"email-address"},"Email"),r.a.createElement("input",{className:"pa2 w-100",type:"email",name:"email-address",id:"email-address",onChange:this.onEmailChange})),r.a.createElement("div",{className:"mv1"},r.a.createElement("label",{className:"db fw6 lh-copy f4 myTColor",htmlFor:"password"},"Password"),r.a.createElement("input",{className:"pa2 w-100",type:"password",name:"password",id:"password",onChange:this.onPasswordChange}))),r.a.createElement("div",{className:""},r.a.createElement("input",{onClick:this.onSubmitReg2,className:"input b ph3 pv2 input-reset ba b--black hover-bg-green grow pointer f6 dib",type:"submit",value:"Register"}),r.a.createElement("input",{onClick:this.onClickSignInButton,className:"input b ph3 pv2 input-reset ba b--black hover-bg-green grow pointer f6 dib",type:"submit",value:"Sign In"}))))))}}]),t}(r.a.Component),L=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).openModal=function(e){a.setState({visible:!0,cardid:e})},a.clickModalOK=function(){fetch(p.url+"/cancelAuction",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({cancelId:a.state.cardid})}).then(function(e){return e.json()}).then(function(e){0==e.ret?m.notify.show("The purchase was successfully cancelled.","error",6e3):m.notify.show("The purchase cannot be cancelled. Reason: ".concat(e.msg),"warning",6e3);var t=Object(E.a)(a.state.playerData);t.forEach(function(e,n){var r=a.state.cardid;e.cardID==r&&t.splice(n,1)}),a.setState({cardid:0,playerData:t,visible:!1},function(){return a.displayPlayerData(t)})}).catch(function(e){m.notify.show(e,"error",5e3),this.setState({cardid:0,visible:!1})})},a.closeModal=function(){a.setState({cardid:0,visible:!1})},a.storePlayerData=function(e){var t=a.state.playerData,n=e.data.map(function(e){var t=e.player_name,n=e.player_rating,r=e.position,o=e.startingBid,i=e.buyNowPrice,s=e.tradeState,l=e.cardId,c=e.expires,u=e.tradeId,d=a.timeHandler(c);return{name:t,position:r,rating:n,startingBid:o,buyNowPrice:i,cardID:l,tradeID:u,status:s,expires:Math.floor((new Date).getTime()/1e3)+270,time:{days:d.days,hours:d.hours,minutes:d.minutes}}}),r=[].concat(Object(E.a)(t),Object(E.a)(n)),o=0;r.forEach(function(e){"active"==e.status&&o++}),a.setState({playerData:r,playersLeft:o},function(){a.displayPlayerData(r)})},a.displayPlayerData=function(e){Object(h.a)(Object(h.a)(a));var t={backgroundColor:"green",color:"yellow",width:"80px",margin:"10px 10px",height:"auto",padding:"5px",fontSize:"20px"},n={backgroundColor:"red",color:"white",width:"80px",margin:"10px 10px",height:"auto",padding:"5px",fontSize:"20px"},o={backgroundColor:"#3A4245",color:"chartreuse",border:"2px solid gold",width:"250px",margin:"10px 10px"},i=e.map(function(e,i){return r.a.createElement("div",{id:i,cardID:e.cardID,tradeID:e.tradeID,key:i,style:o},r.a.createElement("h2",null,"Name: ",e.name),r.a.createElement("h3",null,"Rating: ",e.rating),r.a.createElement("h3",null,"Position: ",e.position),r.a.createElement("h3",null,"Starting bid: ",e.startingBid),r.a.createElement("h3",null,"Buy Now Price: ",e.buyNowPrice),r.a.createElement("h3",null,"Listing Time:"),r.a.createElement("h3",null,e.time.days," day(s), ",e.time.hours," hours, ",e.time.minutes," minutes."),r.a.createElement("h3",null,"Player Expires:"),r.a.createElement("div",{style:{marginLeft:"20px"}},r.a.createElement(D.a,{seconds:e.expires-Math.floor((new Date).getTime()/1e3),color:"darkorange",alpha:1,timeFormat:"hms",size:90,onComplete:function(){return m.notify.show("The player "+"".concat(e.name)+" has expired.","error",5e3)}})),r.a.createElement("h3",null,"Auction Status: ",e.status),r.a.createElement("div",null,r.a.createElement("button",{style:t,onClick:function(t){return a.onBuyClick(t,e.cardID)}},"Bought"),r.a.createElement("button",{style:n,onClick:function(t){return a.onCancelClick(t,e.cardID)}},"Cancel")))});a.setState({noPlayerDisplay:r.a.createElement("h2",null,"Updating....")}),a.setState({displayData:r.a.createElement("div",{style:{display:"inline-flex",justifyContent:"center"}},i),noPlayerDisplay:r.a.createElement("h3",null)})},a.onCancelClick=function(e,t){a.openModal(t)},a.onBuyClick=function(e,t){var n=a.state.playersLeft,r=Object(E.a)(a.state.playerData);r.forEach(function(e,o){e.cardID==t&&(r[o].status="pending server response",a.checkBoughtStatus(t,r,o,n))})},a.checkBoughtStatus=function(e,t,n,r){fetch(p.url+"/checkAuctionStatus",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({tradeID:e})}).then(function(e){return e.json()}).then(function(o){o.data?o.data.tradeState&&("closed"==o.data.tradeState?(m.notify.show("CONGRATULATIONS! "+"".concat(t[n].name)+" has been bought!.","success",5e3),t[n].status="Bought!",t.splice(n,1),r>0&&r--,a.setState({playerData:t,playersLeft:r},function(){return a.displayPlayerData(t)})):"expired"==o.data.tradeState?(m.notify.show("Unfortunately, listing for "+"".concat(t[n].name)+" has EXPIRED and was not bought.","error",8e3),t[n].status="This player has expired.",a.setState({playerData:t,playersLeft:r},function(){return a.displayPlayerData(t)})):"active"==o.data.tradeState&&(m.notify.show("".concat(t[n].name)+" has not been bought yet!.","warning",8e3),t[n].status="NOT Bought yet.",a.setState({playerData:t,playersLeft:r},function(){return a.displayPlayerData(t)}))):(console.log("Trade ID ".concat(e)+" has not been bought."),m.notify.show("An error occured while checking status.\nPlease retry after 2 minutes.","warning",7500),t[n].status="Please re-click me after 2 minutes",a.setState({playerData:t,playersLeft:r},function(){return a.displayPlayerData(t)}),console.log("Server response for status check: ",o))}).catch(function(e){var a=this;console.log("Server error for status check: ",e),m.notify.show("An error occured while checking status.\nPlease retry after 2 minutes.","warning",7500),t[n].status="Please re-click me after 2 minutes",this.setState({playerData:t,playersLeft:r},function(){return a.displayPlayerData(t)})})},a.onChange=function(e){e.target.value>0?e.target.value>4?a.setState({instance:4,maxPlayers:4}):a.setState({instance:e.target.value,maxPlayers:e.target.value}):a.setState({instance:"",maxPlayers:2})},a.onKeyDown=function(e){"Enter"==e.key?a.onSubmit():"Shift"==e.key&&a.setState({playSoundStatus:"STOPPED"})},a.getDataFromServer=function(){var e=a.state.maxPlayers;a.state.playersLeft<e?a.state.searching&&setTimeout(function(){fetch(p.url+"/getData",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.email,apikey:a.state.apikey,instance:a.state.instance})}).then(function(e){return e.json()}).then(function(t){t.data?a.state.playersLeft<e?(a.setState({playSoundStatus:"PLAYING"}),a.storePlayerData(t),a.getDataFromServer()):(a.setState({playSoundStatus:"PLAYING",buttonText:"Request Players.",searching:!1}),a.storePlayerData(t)):(console.log("Response: ",t.message),a.getDataFromServer())}).catch(function(e){m.notify.show("Unexpected error occured while requesting players. Please try later or contact the administrator if the problem persists.","warning",15e3)})},500):a.setState({playSoundStatus:"PLAYING",buttonText:"Request Players.",searching:!1})},a.onSubmit=function(){"Stop Requesting Players."==a.state.buttonText?a.setState({buttonText:"Request Players.",noPlayerDisplay:r.a.createElement("h3",null,'Press "Request Players" to search for players....'),searching:!1}):a.setState({buttonText:"Stop Requesting Players.",noPlayerDisplay:r.a.createElement("h3",null,"Searching for players...."),searching:!0},function(){return a.getDataFromServer()})},a.onClickSignOut=function(){var e=a.state.email;fetch(p.url+"/signout",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}).then(function(e){return e.json()}).then(function(e){console.log("Logged out."),a.props.updateRoute("Login")}).catch(function(e){return m.notify.show("The page behaved unexpectedly while trying to log out. You can safely close the browser now.","success",7e3)})},a.onClickTable=function(){a.props.updateRoute("Table")},a.onClickRegister=function(){a.props.updateRoute("Register")},a.signOutAllUsers=function(){fetch(p.url+"/supersignout",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a.state.email})}).then(function(e){return e.json()}).then(function(e){"SUCCESS"==e.message?m.notify.show("All users logged out.","success",6e3):m.notify.show("The page behaved unexpectedly while trying to log out. Please try again shortly.","error",1e4)}).catch(function(e){return m.notify.show("The page behaved unexpectedly while trying to log out. Please try again shortly.","error",1e4)})},a.state={displayData:r.a.createElement("h3",null),buttonText:"Request Players.",searching:!1,noPlayerDisplay:r.a.createElement("h3",null,'Press "Request Data" to check for available players.'),playerData:[],email:a.props.data.email,apikey:a.props.data.apikey,isAdmin:"admin@themarket.org"==a.props.data.email,billingRate:"Fetching Billing Rate. Please refresh if it doesn't update in 10 seconds.",playersLeft:0,instance:"",maxPlayers:2,visible:!1,cardid:0,playSoundStatus:"STOPPED"},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"timeHandler",value:function(e){var t=Math.floor((new Date).getTime()/1e3),a=t+300-t,n=e-t,r=Math.floor(n/60);n%=60;var o=Math.floor(r/60);return r%=60,{days:Math.floor(o/24),hours:o%=24,minutes:r,timeToExp:a}}},{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",function(t){t.preventDefault(),e.setState({searching:!1},function(){return e.onClickSignOut()})}),fetch(p.url+"/pricefetch").then(function(e){return e.json()}).then(function(t){if(t.billingRate){var a=t.billingRate-.003;a=Math.floor(100*a*158*.52),e.setState({billingRate:"PKR ".concat(a," / 100K")})}}).catch(function(e){return m.notify.show("Error while fetching rate from server. Please re-login to get today's rate.","warning",7500)})}},{key:"render",value:function(){var e=this,t=null;return this.state.isAdmin&&(t=r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"black",color:"white",borderColor:"gold",width:"auto",height:"auto",padding:"8px",margin:"30px 50px"},onClick:this.onClickTable},"Records"),r.a.createElement("button",{style:{backgroundColor:"black",color:"red",borderColor:"gold",width:"auto",height:"auto",padding:"8px",margin:"30px 50px"},onClick:this.signOutAllUsers},"Log ALL USERS Out"),r.a.createElement("button",{style:{backgroundColor:"black",color:"chartreuse",borderColor:"gold",width:"auto",height:"auto",padding:"8px",margin:"30px 50px"},onClick:this.onClickRegister},"Register User"))),r.a.createElement("div",null,r.a.createElement(g.a,null),r.a.createElement("div",{style:{display:"flex",width:"100%"},tabIndex:1,key:this.state.playersLeft,onKeyDown:this.onKeyDown},r.a.createElement("div",{style:{display:"flex-start",width:"20%"},id:"ALL NON-PLAYER INFO"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement("h3",{style:{color:"chartreuse"}},"Today's rate is: ",this.state.billingRate)),r.a.createElement("div",null,r.a.createElement("h4",null,"Max no of players at once: "),r.a.createElement("input",{style:{marginLeft:"10px",borderColor:"gold",borderWidth:"3px",backgroundColor:"#3A4245",color:"gold",textAlign:"center",width:"100px",height:"25px"},placeholder:"default is 2",value:this.state.instance,onChange:this.onChange})),r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"#3A4245",color:"gold",borderColor:"gold",width:"120px",height:"auto",padding:"8px",margin:"50px 50px"},onClick:function(){return e.setState({playSoundStatus:"STOPPED"})}},"STOP SOUND"),r.a.createElement("button",{onClick:this.onSubmit,style:{backgroundColor:"#3A4245",color:"chartreuse",borderColor:"gold",width:"150px",height:"auto",padding:"4px",margin:"5px 50px"}},this.state.buttonText.toUpperCase())),r.a.createElement("div",null,r.a.createElement("button",{style:{backgroundColor:"black",color:"red",borderColor:"gold",width:"auto",height:"auto",padding:"8px",margin:"30px 50px"},onClick:this.onClickSignOut},"Log Out"),t)),r.a.createElement("div",{id:"PLAYER DATA",style:{display:"flex-end",width:"80%"}},r.a.createElement("div",{style:{width:"100%",overflowX:"auto"}},r.a.createElement("div",{style:{marginLeft:"45%"}},this.state.searching?r.a.createElement("h3",null,r.a.createElement(P.a,{type:"spin",color:"chartreuse"})):null),this.state.displayData,r.a.createElement("br",null),this.state.noPlayerDisplay))),r.a.createElement("div",{id:"MODAL AND SOUND"},r.a.createElement("section",null,r.a.createElement(S.a,{visible:this.state.visible,width:"400",height:"300",effect:"fadeInUp",style:{backgroundColor:"cadetblue",color:"gold",border:"5px solid red",borderSize:"10px"}},r.a.createElement("div",null,r.a.createElement("h1",null,"Cancel Purchase"),r.a.createElement("p",null,"Are you sure you want to cancel the purchase of this player? Click YES to proceed, or NO to go back."),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.clickModalOK,style:{backgroundColor:"red",color:"white",width:"100px",height:"50px"}},"YES"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.closeModal,style:{backgroundColor:"green",color:"white",width:"100px",height:"50px"}},"NO")))),r.a.createElement(x.a,{url:"https://www.soundjay.com/button/beep-08b.mp3",playStatus:this.state.playSoundStatus,playFromPosition:0,volume:100,autoLoad:!0,loop:!0})))}}]),t}(n.Component),_=(a(228),null),K=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={route:"Login",email:"",apikey:""},a.updateRoute=function(e){a.setState({route:e})},a.setEmailAndApiKey=function(e,t){a.setState({email:e,apikey:t})},a.onSubmit=function(e){Object(h.a)(Object(h.a)(a))},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return"Login"==this.state.route?_=r.a.createElement("div",null,r.a.createElement(f,{updateRoute:this.updateRoute,setEmailAndApiKey:this.setEmailAndApiKey})):"Register"==this.state.route?_=r.a.createElement(R,{updateRoute:this.updateRoute}):"App"==this.state.route?_=r.a.createElement("div",null,r.a.createElement(L,{data:this.state,updateRoute:this.updateRoute})):"Table"==this.state.route&&(_=r.a.createElement("div",null,r.a.createElement(w,{data:this.state,updateRoute:this.updateRoute}))),r.a.createElement("div",{className:"App"},r.a.createElement("h2",{style:{display:"flex",justifyContent:"center"}},"Welcome to FUT Player Market"),_)}}]),t}(n.Component);i.a.render(r.a.createElement(K,null),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.035f9590.chunk.js.map